<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOF Lab Report</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 { color: #333; }
        .container { 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            box-shadow: 0px 0px 10px rgba(0,0,0,0.1); 
        }
        img { 
            max-width: 100%; 
            height: auto; 
            display: block; 
            margin: 10px auto; 
        }
        iframe { 
            display: block; 
            margin: 10px auto; 
        }
        pre { 
            background: #f4f4f4; 
            padding: 10px; 
            border-radius: 5px; 
            overflow-x: auto; 
        }
        .answer-box { 
            background: #eef; 
            padding: 10px; 
            margin: 10px 0; 
            border-left: 5px solid #36c; 
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 10px; 
        }
        th, td { 
            border: 1px solid black; 
            padding: 8px; 
            text-align: left; 
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>TOF Lab Report</h1>

        <h2>Objective</h2>
        <p>The purpose of this lab is to equip the robot with distance sensors - the faster the robot can sample and the more it can trust a sensor reading, the faster it is able to drive.
</p>
        <h2>Prelab</h2>
        <h3>Setting up TOF</h3>
        <p>In this lab, we will set up a Time-of-Flight (ToF) sensor, which is based on the VL53L1X. Each by default has the same address, 
            so I wired the X shut pin to the Artemis board on one TOF, allowing me to manually change the second sensor's address. This is 
            more efficient than continuously enable/disabling the two sensors separately as it allows for continuous data collection from both sensors. 
            In order to detect obstacles, I will place a TOF sensor on the front of the car and on the right side. There will be blindspots on the left 
            and in the back, however, this should be enough to allow the car to perform stunts. I used the longer wires to connect my TOF to the Arduino 
            since the Arduino will be placed closer to the back of the car. 
</p>
        
         <h4>Wiring Diagram:</h4>
            <img src="Setup.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
          <h4>Physical Circuit:</h4>
            <img src="Setup.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
        <h4>Scanning for i2c:</h4>
            <img src="i2c detrcted.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">

         <h2>Lab Tasks</h2>
        <h3>1. Attached a JST to a battery to power the Artemis </h3>
        <h4>Connected Battery:</h4>
            <img src="i2c detrcted.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
         <h3>2. Setup TOF</h3>
        <p> Installed the SparkFun VL53L1X 4m laser distance sensor library and Connected the QWIIC break-out board to the Artemis, then 
             soldered QWIIC cables to each TOF sensor. I scanned the I2C channel to find the sensors.  ***Does the address match what you expected?  
            I set the distance mode of my sensors to short. Discuss the pros/cons of each mode, and think about which one could work on the final robot.

            QWIIC wiring: Red= Vcc, Black = Ground, Blue= , Yellow= 
</p>
        
         <h4>Complete circuit:</h4>
            <img src="i2c detrcted.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
        <h4>Code to change the second TOF address:</h4>
            <img src="change.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">

 <h3>3. Test TOF</h3>
    <p>  I tested my chosen mode by setting up my TOF sensors and collected data at 2, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, and 100cm. 
        I collected 100 data points for each measurement. I added code to the main ble script to take both sensor readings and send it to python. 
        In python, I calculated the average and standard deviation for each data point and created plots. </p>
     
        <h4>Data collection in Arduino:</h4>
            <img src="i2c detrcted.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
        <h4>Example Data Recieved in Python for 2cm (in mm & in):</h4>
            <img src="exampledata.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
      <h4>Data math in python done for each data group (in mm):</h4>
            <img src="excalc.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
        <h4>Full Data (in mm):</h4>
            <img src="datadone.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
          <h4>Actual Distance vs Recorded Measurement Graph:</h4>
            <img src="graph.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">
         <h4>StDev vs Actual Distance Graph: </h4>
            <img src="stdevgraph.png" alt="Screenshot showing virtual environment setup in command prompt" style="width: 400px; height: auto;">



        



        
